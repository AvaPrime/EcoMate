:root {
  --md-primary-fg-color: #1976d2;
  --md-primary-fg-color--light: #42a5f5;
  --md-primary-fg-color--dark: #1565c0;
  --transition-duration: 0.3s;
}

/* Smooth transitions for theme switching */
* {
  transition: background-color var(--transition-duration) ease,
              color var(--transition-duration) ease,
              border-color var(--transition-duration) ease,
              box-shadow var(--transition-duration) ease;
}

/* Enhanced palette toggle button */
.md-header__button.md-icon {
  transition: transform 0.2s ease, opacity 0.2s ease;
}

.md-header__button.md-icon:hover {
  transform: scale(1.1);
  opacity: 0.8;
}

/* Custom styling for light mode */
[data-md-color-scheme="default"] {
  --md-default-bg-color: #ffffff;
  --md-default-fg-color: #000000;
  --md-code-bg-color: #f5f5f5;
  --md-code-fg-color: #37474f;
}

/* Custom styling for dark mode */
[data-md-color-scheme="slate"] {
  --md-default-bg-color: #1e1e1e;
  --md-default-fg-color: #ffffff;
  --md-code-bg-color: #2d2d2d;
  --md-code-fg-color: #e0e0e0;
}

/* Enhanced navigation styling */
.md-nav__item--active > .md-nav__link {
  font-weight: 600;
}

/* Improved code block styling */
.highlight {
  border-radius: 6px;
  overflow: hidden;
}

/* Custom admonition styling */
.md-typeset .admonition {
  border-radius: 6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Theme toggle animation */
@keyframes theme-switch {
  0% { opacity: 0.8; }
  50% { opacity: 0.5; }
  100% { opacity: 1; }
}

.md-header__button[data-md-toggle="palette"] {
  animation: theme-switch 0.3s ease when switching;
}

/* Responsive design improvements */
@media screen and (max-width: 76.1875em) {
  .md-header__button.md-icon {
    padding: 0.4rem;
  }
}

/* Focus states for accessibility */
.md-header__button:focus {
  outline: 2px solid var(--md-accent-fg-color);
  outline-offset: 2px;
  border-radius: 4px;
}

/* Loading state for theme switch */
.theme-switching {
  pointer-events: none;
  opacity: 0.7;
}

/* Custom scrollbar for dark mode */
[data-md-color-scheme="slate"] ::-webkit-scrollbar {
  width: 8px;
}

[data-md-color-scheme="slate"] ::-webkit-scrollbar-track {
  background: #2d2d2d;
}

[data-md-color-scheme="slate"] ::-webkit-scrollbar-thumb {
  background: #555;
  border-radius: 4px;
}

[data-md-color-scheme="slate"] ::-webkit-scrollbar-thumb:hover {
  background: #777;
}